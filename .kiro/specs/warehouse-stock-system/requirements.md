# Requirements Document

## Introduction

ระบบคลังและสต็อกสินค้าที่ปรับปรุงใหม่ เป็นระบบที่ออกแบบมาเพื่อจัดการสินค้าแบบ Serial Number (SN) รายชิ้น รองรับการทำงานหลายคลัง/หลายสาขา พร้อมการเชื่อมโยงราคาแบบ real-time และรองรับการรับ-เบิก-คืน-โอนสินค้าอย่างครบวงจร ระบบนี้จะช่วยให้การจัดการสต็อกมีความแม่นยำสูง สามารถติดตามสินค้าได้ทุกชิ้น และมีการควบคุมการเคลื่อนไหวของสินค้าอย่างเป็นระบบ

## Requirements

### Requirement 1

**User Story:** ในฐานะพนักงานคลังสินค้า ฉันต้องการระบบรับสินค้าที่สามารถสร้าง SN อัตโนมัติและเก็บราคาต่อชิ้น เพื่อให้สามารถติดตามสินค้าแต่ละชิ้นได้อย่างแม่นยำ

#### Acceptance Criteria

1. WHEN พนักงานเลือกหรือเพิ่มรายการสินค้าใหม่ THEN ระบบ SHALL แสดงฟอร์มสำหรับระบุจำนวนและราคาต่อชิ้น
2. WHEN พนักงานระบุจำนวนและราคาต่อชิ้น THEN ระบบ SHALL สร้าง Serial Number (SN) อัตโนมัติสำหรับแต่ละชิ้น
3. WHEN ระบบสร้าง SN เสร็จสิ้น THEN ระบบ SHALL เก็บข้อมูล SN พร้อมราคาต่อชิ้นในฐานข้อมูล
4. WHEN การรับสินค้าเสร็จสิ้น THEN ระบบ SHALL ผูกข้อมูลเข้ากับ Supplier และใบวางบิลอัตโนมัติ
5. WHEN การบันทึกข้อมูลเสร็จสิ้น THEN ระบบ SHALL สามารถพิมพ์ใบรับสินค้าและ Sticker SN ขนาด 3.2x2.5 cm ได้

### Requirement 2

**User Story:** ในฐานะพนักงานคลังสินค้า ฉันต้องการระบบตรวจสอบสต็อกที่สามารถค้นหาและแสดงข้อมูลสินค้าได้หลากหลายวิธี เพื่อให้สามารถตรวจสอบสถานะสินค้าได้อย่างรวดเร็วและแม่นยำ

#### Acceptance Criteria

1. WHEN พนักงานค้นหาสินค้า THEN ระบบ SHALL รองรับการค้นหาจากชื่อสินค้า, แบรนด์, รุ่น, และ SN
2. WHEN ผลการค้นหาแสดงขึ้น THEN ระบบ SHALL แสดงจำนวนคงเหลือแยกตามสาขา/คลัง
3. WHEN พนักงานเลือกดูรายละเอียดสินค้า THEN ระบบ SHALL แสดงรายการเคลื่อนไหว (movement log) ของสินค้านั้น
4. WHEN มีการเปลี่ยนแปลงสต็อก THEN ระบบ SHALL อัปเดตข้อมูลแบบ real-time
5. IF สินค้ามี SN THEN ระบบ SHALL แสดงรายละเอียด SN และราคาต่อชิ้นของแต่ละ SN

### Requirement 3

**User Story:** ในฐานะพนักงานขาย/POS ฉันต้องการระบบเบิกสินค้าที่เชื่อมโยงกับระบบขายและเช่าซื้อ เพื่อให้การตัดสต็อกเป็นไปอย่างอัตโนมัติและแม่นยำ

#### Acceptance Criteria

1. WHEN มีการเบิกสินค้า THEN ระบบ SHALL ตัด SN ออกจากสต็อกทันที
2. WHEN มีการจัดส่งสินค้า THEN ระบบ SHALL อัปเดตสถานะ SN เป็น "จัดส่งแล้ว"
3. WHEN มีการเคลมสินค้า THEN ระบบ SHALL อัปเดตสถานะ SN เป็น "เคลม"
4. WHEN ระบบ POS หรือระบบเช่าซื้อมีการขาย THEN ระบบ SHALL เชื่อมโยงและตัดสต็อกอัตโนมัติ
5. IF มีการคืนสินค้าหรือเคลม THEN ระบบ SHALL อัปเดตสถานะ SN และเพิ่มกลับเข้าสต็อกตามเงื่อนไข

### Requirement 4

**User Story:** ในฐานะผู้จัดการสาขา ฉันต้องการระบบโอนสินค้าระหว่างสาขาที่มีการควบคุมและติดตามได้ เพื่อให้การกระจายสินค้าระหว่างสาขาเป็นไปอย่างมีประสิทธิภาพ

#### Acceptance Criteria

1. WHEN สาขาต้นทางต้องการโอนสินค้า THEN ระบบ SHALL ให้เลือก SN ที่ต้องการโอนได้
2. WHEN เลือก SN เสร็จสิ้น THEN ระบบ SHALL สร้างใบโอนพร้อมรายละเอียด SN
3. WHEN สาขาปลายทางได้รับใบโอน THEN ระบบ SHALL ให้ยืนยันการรับสินค้าได้
4. WHEN สาขาปลายทางยืนยันรับ THEN ระบบ SHALL ย้าย SN จากคลังต้นทางไปคลังปลายทาง
5. IF มีการโอนที่ยังไม่ได้ยืนยัน THEN ระบบ SHALL แสดงสถานะ "กำลังโอน" และไม่ให้ใช้ SN นั้นได้

### Requirement 5

**User Story:** ในฐานะผู้ดูแลระบบ ฉันต้องการโครงสร้างฐานข้อมูลที่รองรับการทำงานของระบบคลังและสต็อกอย่างครบถ้วน เพื่อให้ระบบสามารถจัดเก็บและจัดการข้อมูลได้อย่างมีประสิทธิภาพ

#### Acceptance Criteria

1. WHEN ระบบเริ่มทำงาน THEN ระบบ SHALL มีตาราง products สำหรับเก็บข้อมูลสินค้า
2. WHEN ระบบเริ่มทำงาน THEN ระบบ SHALL มีตาราง product_sn สำหรับเก็บ SN และราคาต้นทุน
3. WHEN ระบบเริ่มทำงาน THEN ระบบ SHALL มีตาราง warehouses สำหรับเก็บข้อมูลคลังสินค้าแต่ละสาขา
4. WHEN ระบบเริ่มทำงาน THEN ระบบ SHALL มีตาราง stock_movements สำหรับ log การเข้าออกสินค้า
5. WHEN ระบบเริ่มทำงาน THEN ระบบ SHALL มีตาราง suppliers สำหรับเก็บข้อมูลผู้จำหน่าย
6. WHEN ระบบเริ่มทำงาน THEN ระบบ SHALL มีตาราง stock_transfers สำหรับเก็บข้อมูลโอนระหว่างคลัง
7. WHEN ระบบเริ่มทำงาน THEN ระบบ SHALL มีตาราง receive_logs สำหรับเก็บประวัติรับสินค้า
8. WHEN ระบบเริ่มทำงาน THEN ระบบ SHALL มีตาราง claim_logs สำหรับเก็บข้อมูลการคืน/เคลม
9. WHEN ระบบเริ่มทำงาน THEN ระบบ SHALL มีตาราง stock_adjustments สำหรับเก็บข้อมูลการตรวจนับ/แก้ไข

### Requirement 6

**User Story:** ในฐานะพนักงานคลังสินค้า ฉันต้องการระบบที่สามารถพิมพ์เอกสารและสติกเกอร์ได้ เพื่อให้การจัดการเอกสารและการติดป้ายสินค้าเป็นไปอย่างมีประสิทธิภาพ

#### Acceptance Criteria

1. WHEN การรับสินค้าเสร็จสิ้น THEN ระบบ SHALL สามารถพิมพ์ใบรับสินค้าที่มีรายละเอียดครบถ้วนได้
2. WHEN การรับสินค้าเสร็จสิ้น THEN ระบบ SHALL สามารถพิมพ์ Sticker SN ขนาด 3.2x2.5 cm ได้
3. WHEN การโอนสินค้าเสร็จสิ้น THEN ระบบ SHALL สามารถพิมพ์ใบโอนสินค้าได้
4. IF มีการเคลมหรือคืนสินค้า THEN ระบบ SHALL สามารถพิมพ์เอกสารที่เกี่ยวข้องได้
5. WHEN พิมพ์เอกสารใดๆ THEN ระบบ SHALL รวมข้อมูล SN, ราคา, วันที่, และรายละเอียดที่เกี่ยวข้อง

### Requirement 7

**User Story:** ในฐานะผู้จัดการ ฉันต้องการระบบรายงานที่แสดงข้อมูลการเคลื่อนไหวของสต็อกและสถานะคลังสินค้า เพื่อให้สามารถติดตามและวิเคราะห์การจัดการสต็อกได้

#### Acceptance Criteria

1. WHEN ผู้จัดการต้องการดูรายงาน THEN ระบบ SHALL แสดงรายงานสต็อกคงเหลือแยกตามสาขา/คลัง
2. WHEN ผู้จัดการต้องการดูการเคลื่อนไหว THEN ระบบ SHALL แสดงรายงานการเข้า-ออกสินค้าตามช่วงเวลา
3. WHEN ผู้จัดการต้องการดูข้อมูลการโอน THEN ระบบ SHALL แสดงรายงานการโอนระหว่างสาขา
4. WHEN ผู้จัดการต้องการดูข้อมูลเคลม THEN ระบบ SHALL แสดงรายงานการคืน/เคลมสินค้า
5. IF ต้องการส่งออกรายงาน THEN ระบบ SHALL รองรับการส่งออกเป็น Excel หรือ PDF